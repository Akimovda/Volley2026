# ADR-002: Event Registration Flow

## Статус
Принято

## Контекст
В проектах с мероприятиями часто:
- проверяют профиль при логине
- блокируют пользователя заранее
- создают фрустрирующий UX

Volley требует более гибкого подхода.

---

## Решение
Проверка данных пользователя выполняется **только при попытке записи
на мероприятие**.

---

## Детали реализации

1. Пользователь заходит в систему
2. Может свободно просматривать мероприятия
3. При нажатии «Записаться»:
   - проверяются требования мероприятия
   - определяется список недостающих данных
4. Если данные отсутствуют:
   - redirect `/profile/complete`
   - список `required` сохраняется в session
5. После заполнения анкеты:
   - происходит автозапись
   - пользователь возвращается в поток

---

## Причины выбора

- Пользователь видит ценность до требований
- Меньше отказов
- Прозрачный UX
- Нет “заглушек” при входе

---

## Альтернативы (отклонены)

### Проверка при логине
❌ блокирует пользователя  
❌ усложняет онбординг  

### Проверка при регистрации
❌ преждевременно  
❌ не учитывает контекст мероприятия  

---

## Последствия

- Усложнение логики сессий
- Необходимость сервисов требований
- Более чистый UX

---

## Связанные документы
- `docs/events.md`
- `docs/profile.md`
- `docs/architecture.md`
- `ADR-001: Authentication Strategy`
